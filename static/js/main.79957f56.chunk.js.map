{"version":3,"sources":["components/BarChart.js","App.js","index.js"],"names":["BarChart","data","setData","useState","loading","setLoading","error","setError","sortType","setSortType","filterType","setFilterType","cities","svgRef","useRef","fetchWeatherData","useCallback","debounce","async","results","Promise","all","map","city","fetch","concat","then","response","json","name","temperature","main","temp","humidity","windSpeed","wind","speed","console","useEffect","length","sortedData","sort","a","b","width","current","clientWidth","height","svg","d3","attr","classed","call","on","event","transform","xScale","domain","d","range","padding","yScale","tooltip","append","style","selectAll","enter","bandwidth","transition","duration","html","charAt","toUpperCase","slice","Math","min","pageX","window","innerWidth","pageY","currentTarget","delay","i","ticks","tickSizeOuter","tickFormat","gradient","_jsxs","className","children","_jsx","value","onChange","e","target","ref","App","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.79957f56.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport * as d3 from 'd3';\nimport debounce from 'lodash.debounce';\n\nconst BarChart = () => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [sortType, setSortType] = useState('default');\n  const [filterType, setFilterType] = useState('temperature');\n  const cities = ['London', 'New York', 'Tokyo', 'Paris', 'Berlin', 'Moscow', 'Sydney', 'Mumbai', 'Shanghai', 'Cairo'];\n  const svgRef = useRef();\n\n  const fetchWeatherData = useCallback(debounce(async () => {\n    const apiKey = '763df8089caadc2bb3a7a2b6ec384a79';\n    setLoading(true);\n    setError(null);\n    try {\n      const results = await Promise.all(cities.map(city =>\n        fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`)\n          .then(response => response.json())\n          .then(data => ({\n            name: data.name,\n            temperature: data.main.temp,\n            humidity: data.main.humidity,\n            windSpeed: data.wind.speed\n          }))\n      ));\n      setData(results);\n    } catch (error) {\n      console.error('There was a problem with the fetch operation:', error);\n      setError('Failed to fetch data');\n    } finally {\n      setLoading(false);\n    }\n  }, 300), []);\n\n  useEffect(() => {\n    fetchWeatherData();\n  }, [fetchWeatherData]);\n\n  useEffect(() => {\n    if (data.length === 0 || loading || error) return;\n\n    const sortedData = [...data];\n    if (sortType === 'asc') {\n      sortedData.sort((a, b) => a[filterType] - b[filterType]);\n    } else if (sortType === 'desc') {\n      sortedData.sort((a, b) => b[filterType] - a[filterType]);\n    }\n\n    const width = svgRef.current.clientWidth;\n    const height = 500;\n\n    const svg = d3.select(svgRef.current)\n      .attr('width', width)\n      .attr('height', height)\n      .classed('border border-gray-200 rounded-lg shadow-lg', true)\n      .call(d3.zoom().on('zoom', (event) => {\n        svg.attr('transform', event.transform);\n      }));\n\n    const xScale = d3.scaleBand()\n      .domain(sortedData.map(d => d.name))\n      .range([0, width])\n      .padding(0.1);\n\n    const yScale = d3.scaleLinear()\n      .domain([0, d3.max(sortedData, d => d[filterType])])\n      .range([height, 0]);\n\n    const tooltip = d3.select(\"body\").append(\"div\")\n      .attr(\"class\", \"tooltip bg-white border border-gray-300 p-2 rounded shadow-lg text-gray-800 text-sm\")\n      .style(\"opacity\", 0)\n      .style(\"position\", \"absolute\");\n\n    svg.selectAll('rect')\n      .data(sortedData)\n      .enter()\n      .append('rect')\n      .attr('x', d => xScale(d.name))\n      .attr('y', d => yScale(0))\n      .attr('width', xScale.bandwidth())\n      .attr('height', 0)\n      .attr('fill', 'url(#gradient)')\n      .attr('stroke', '#2d3748')\n      .attr('stroke-width', 1)\n      .attr('rx', 4)\n      .attr('ry', 4)\n      .attr('class', 'shadow-md hover:fill-current hover:text-yellow-500')\n      .on('mouseover', (event, d) => {\n        tooltip.transition()\n          .duration(200)\n          .style('opacity', .9);\n        tooltip.html(`City: ${d.name}<br>${filterType.charAt(0).toUpperCase() + filterType.slice(1)}: ${d[filterType]}`)\n          .style('left', `${Math.min(event.pageX + 10, window.innerWidth - 150)}px`)\n          .style('top', `${event.pageY - 28}px`);\n        d3.select(event.currentTarget).transition().duration(200).attr('fill', '#ffed4a');\n      })\n      .on('mouseout', (event, d) => {\n        tooltip.transition()\n          .duration(500)\n          .style('opacity', 0);\n        d3.select(event.currentTarget).transition().duration(500).attr('fill', 'url(#gradient)');\n      });\n\n    svg.selectAll('rect')\n      .transition()\n      .duration(800)\n      .attr('y', d => yScale(d[filterType]))\n      .attr('height', d => height - yScale(d[filterType]))\n      .delay((d, i) => i * 100);\n\n    svg.append('g')\n      .attr('transform', 'translate(0,0)')\n      .call(d3.axisLeft(yScale).ticks(5).tickSizeOuter(0).tickFormat(d => `${d}`));\n\n    svg.append('g')\n      .attr('transform', `translate(0,${height})`)\n      .call(d3.axisBottom(xScale).tickSizeOuter(0))\n      .selectAll(\"text\")\n      .attr(\"y\", 0)\n      .attr(\"x\", 9)\n      .attr(\"dy\", \".35em\")\n      .attr(\"transform\", \"rotate(45)\")\n      .style(\"text-anchor\", \"start\")\n      .style(\"font-size\", \"12px\");\n\n    // Append gradient definition\n    const defs = svg.append(\"defs\");\n    const gradient = defs.append(\"linearGradient\")\n      .attr(\"id\", \"gradient\")\n      .attr(\"x1\", \"0%\")\n      .attr(\"y1\", \"0%\")\n      .attr(\"x2\", \"0%\")\n      .attr(\"y2\", \"100%\");\n    \n    gradient.append(\"stop\")\n      .attr(\"offset\", \"0%\")\n      .attr(\"stop-color\", \"#3490dc\")\n      .attr(\"stop-opacity\", 1);\n    \n    gradient.append(\"stop\")\n      .attr(\"offset\", \"100%\")\n      .attr(\"stop-color\", \"#6574cd\")\n      .attr(\"stop-opacity\", 1);\n\n  }, [data, loading, error, sortType, filterType]);\n\n  const handleSortChange = (e) => {\n    setSortType(e.target.value);\n  };\n\n  const handleFilterChange = (e) => {\n    setFilterType(e.target.value);\n  };\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <div className=\"my-4 flex justify-between items-center bg-white p-4 rounded-lg shadow-md\">\n        <div>\n          <label className=\"block text-gray-700 mb-2 font-semibold\">Sort by:</label>\n          <select\n            value={sortType}\n            onChange={handleSortChange}\n            className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"default\">Default</option>\n            <option value=\"asc\">Ascending</option>\n            <option value=\"desc\">Descending</option>\n          </select>\n        </div>\n        <div>\n          <label className=\"block text-gray-700 mb-2 font-semibold\">Filter by:</label>\n          <select\n            value={filterType}\n            onChange={handleFilterChange}\n            className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"temperature\">Temperature</option>\n            <option value=\"humidity\">Humidity</option>\n            <option value=\"windSpeed\">Wind Speed</option>\n          </select>\n        </div>\n      </div>\n      {loading && <div className=\"text-center text-gray-700\">Loading...</div>}\n      {error && <div className=\"text-center text-red-500\">{error}</div>}\n      <svg ref={svgRef} className=\"w-full\"></svg>\n    </div>\n  );\n};\n\nexport default BarChart;\n","import React from 'react';\nimport './App.css';\nimport BarChart from './components/BarChart';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Interactive Data Visualization Dashboard</h1>\n        <BarChart />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}