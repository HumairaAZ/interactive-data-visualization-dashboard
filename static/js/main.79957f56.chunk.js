(this["webpackJsonpinteractive-data-visualization-dashboard"]=this["webpackJsonpinteractive-data-visualization-dashboard"]||[]).push([[0],{102:function(t,e,a){"use strict";a.r(e);var r=a(1),n=a.n(r),c=a(20),s=a.n(c),o=(a(98),a(99),a(2)),i=a(21),d=a.n(i),l=a(0);var u=()=>{const[t,e]=Object(r.useState)([]),[a,n]=Object(r.useState)(!0),[c,s]=Object(r.useState)(null),[i,u]=Object(r.useState)("default"),[p,h]=Object(r.useState)("temperature"),b=["London","New York","Tokyo","Paris","Berlin","Moscow","Sydney","Mumbai","Shanghai","Cairo"],m=Object(r.useRef)(),j=Object(r.useCallback)(d()((async()=>{n(!0),s(null);try{const t=await Promise.all(b.map((t=>fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("763df8089caadc2bb3a7a2b6ec384a79","&units=metric")).then((t=>t.json())).then((t=>({name:t.name,temperature:t.main.temp,humidity:t.main.humidity,windSpeed:t.wind.speed}))))));e(t)}catch(c){console.error("There was a problem with the fetch operation:",c),s("Failed to fetch data")}finally{n(!1)}}),300),[]);Object(r.useEffect)((()=>{j()}),[j]),Object(r.useEffect)((()=>{if(0===t.length||a||c)return;const e=[...t];"asc"===i?e.sort(((t,e)=>t[p]-e[p])):"desc"===i&&e.sort(((t,e)=>e[p]-t[p]));const r=m.current.clientWidth,n=500,s=o.f(m.current).attr("width",r).attr("height",n).classed("border border-gray-200 rounded-lg shadow-lg",!0).call(o.g().on("zoom",(t=>{s.attr("transform",t.transform)}))),d=o.d().domain(e.map((t=>t.name))).range([0,r]).padding(.1),l=o.e().domain([0,o.c(e,(t=>t[p]))]).range([n,0]),u=o.f("body").append("div").attr("class","tooltip bg-white border border-gray-300 p-2 rounded shadow-lg text-gray-800 text-sm").style("opacity",0).style("position","absolute");s.selectAll("rect").data(e).enter().append("rect").attr("x",(t=>d(t.name))).attr("y",(t=>l(0))).attr("width",d.bandwidth()).attr("height",0).attr("fill","url(#gradient)").attr("stroke","#2d3748").attr("stroke-width",1).attr("rx",4).attr("ry",4).attr("class","shadow-md hover:fill-current hover:text-yellow-500").on("mouseover",((t,e)=>{u.transition().duration(200).style("opacity",.9),u.html("City: ".concat(e.name,"<br>").concat(p.charAt(0).toUpperCase()+p.slice(1),": ").concat(e[p])).style("left","".concat(Math.min(t.pageX+10,window.innerWidth-150),"px")).style("top","".concat(t.pageY-28,"px")),o.f(t.currentTarget).transition().duration(200).attr("fill","#ffed4a")})).on("mouseout",((t,e)=>{u.transition().duration(500).style("opacity",0),o.f(t.currentTarget).transition().duration(500).attr("fill","url(#gradient)")})),s.selectAll("rect").transition().duration(800).attr("y",(t=>l(t[p]))).attr("height",(t=>n-l(t[p]))).delay(((t,e)=>100*e)),s.append("g").attr("transform","translate(0,0)").call(o.b(l).ticks(5).tickSizeOuter(0).tickFormat((t=>"".concat(t)))),s.append("g").attr("transform","translate(0,".concat(n,")")).call(o.a(d).tickSizeOuter(0)).selectAll("text").attr("y",0).attr("x",9).attr("dy",".35em").attr("transform","rotate(45)").style("text-anchor","start").style("font-size","12px");const h=s.append("defs").append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");h.append("stop").attr("offset","0%").attr("stop-color","#3490dc").attr("stop-opacity",1),h.append("stop").attr("offset","100%").attr("stop-color","#6574cd").attr("stop-opacity",1)}),[t,a,c,i,p]);return Object(l.jsxs)("div",{className:"container mx-auto p-4",children:[Object(l.jsxs)("div",{className:"my-4 flex justify-between items-center bg-white p-4 rounded-lg shadow-md",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{className:"block text-gray-700 mb-2 font-semibold",children:"Sort by:"}),Object(l.jsxs)("select",{value:i,onChange:t=>{u(t.target.value)},className:"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Object(l.jsx)("option",{value:"default",children:"Default"}),Object(l.jsx)("option",{value:"asc",children:"Ascending"}),Object(l.jsx)("option",{value:"desc",children:"Descending"})]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{className:"block text-gray-700 mb-2 font-semibold",children:"Filter by:"}),Object(l.jsxs)("select",{value:p,onChange:t=>{h(t.target.value)},className:"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[Object(l.jsx)("option",{value:"temperature",children:"Temperature"}),Object(l.jsx)("option",{value:"humidity",children:"Humidity"}),Object(l.jsx)("option",{value:"windSpeed",children:"Wind Speed"})]})]})]}),a&&Object(l.jsx)("div",{className:"text-center text-gray-700",children:"Loading..."}),c&&Object(l.jsx)("div",{className:"text-center text-red-500",children:c}),Object(l.jsx)("svg",{ref:m,className:"w-full"})]})};var p=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("header",{className:"App-header",children:[Object(l.jsx)("h1",{children:"Interactive Data Visualization Dashboard"}),Object(l.jsx)(u,{})]})})};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root"))},98:function(t,e,a){},99:function(t,e,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.79957f56.chunk.js.map